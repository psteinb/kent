# This is the working copy of the Hiller lab kent source code.
# Use this working copy to 
# 1. make the lab-wide genome browser at genome.pks.mpg.de
# 2. git pull (from UCSC) and git push to our lab-wide repository


# 1. Make the lab-wide genome browser 
source LabBrowserEnvironment 
cd $KENTHOME/src
make alpha



# 2. Update our repository by merging the latest UCSC source code
# Our repository at /genome/gitosis/repositories/kent.git is a bare repository (no working space). 
# That means in /genome/gitosis/repositories/kent.git you cannot git pull. You can only 
#  from your user working copy:  git push 
# and 
#  from your home directory: git clone /genome/gitosis/repositories/kent.git kent
#
# To update the repository, we use this working copy to do
# 1. update the working copy with the changes anybody from the lab has pushed to /genome/gitosis/repositories/kent.git
git pull 
# 2. Add UCSC as a remote repository
git remote add UCSC git://genome-source.cse.ucsc.edu/kent.git 
# 3. Pull from UCSC and merge
git pull UCSC master
# this causes a merge of our code with UCSC

# If the automatic merge fails, resolve all conflicts (be sure you know what you do !). 
# Do not push before resolving the conflicts. 

# Now push this merge to our repository at /genome/gitosis/repositories/kent.git
git push
