<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN" 
"http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<meta http-equiv="Content-Type" content="text/html;CHARSET=iso-8859-1">
<title>Quick Start Guide to Track Hubs</title>
<link rel="STYLESHEET" href="../../style/HGStyle.css">
</head>

<body bgcolor="FFF9D2" link="#0000CC" vlink="#330066" alink="#330066">
<a name="TOP"></a>

<table border=0 cellpadding=0 cellspacing=0 width="100%">
<tr><th colspan=2 align="left"><img src="../../images/title.jpg" alt="title"></th></tr>

<TR><TD COLSPAN=2 HEIGHT=40><!--#include virtual="../../inc/topbar.html"--></TD></TR>
<!-- ========== content tables ================================ -->  
<!--
<td cellpadding=10 rowspan=2 valign="top">
-->
<tr><td rowspan=2 valign="top">	
<!--outer table is for border purposes-->
<table width="100%" bgcolor="#888888" border="0" cellspacing="0" cellpadding="1">
<tr><td>	
<table bgcolor="#fffee8" width="100%"  border="0" cellspacing="0" cellpadding="0">
<tr><td>	
<table bgcolor="#d9e4f8" width="100%">
<tr><td>
<font size="4"><b>&nbsp;Hubs Quick Start Guide</b></font> 
</td></tr>
</table>
<table bgcolor="#fffee8" width="100%" cellpadding=0>
<tr> <td colspan="3">
<ul>
Hubs speedily display remote custom tracks
(binary indexed bigBed, bigWig, BAM or VCF formats),
while providing more persistence and configurability than normal
custom tracks for any UCSC genome (or remotely hosted assembly in twoBit format).
<p>
<p>
<b>STEP1:</b> In a publicly accessible directory copy the following hub.txt, genomes.txt,
and hg19/trackDb.txt files while making a hg19 directory for the trackDb.txt.<br>
<tt>curl -O http://genome.ucsc.edu/goldenPath/help/examples/hubDirectory/hub.txt<br>
curl -O http://genome.ucsc.edu/goldenPath/help/examples/hubDirectory/genomes.txt<br>
mkdir hg19; cd hg19; curl -O http://genome.ucsc.edu/goldenPath/help/examples/hubDirectory/hg19/trackDb.txt<br>
</tt>

<p>
If you do not have curl, you can alternatively use a text editor and
directly recreate the above three files.
</p>
<p>
<b>STEP2:</b> Paste your hub.txt link (<tt>http://yourURL/hub.txt</tt>) into the
<a href="../../cgi-bin/hgHubConnect" target="_blank">My Hubs</a>
tab of the Track Data Hubs page, then click the "Use Selected Hubs" button.
It should work the same as pasting the original hub.txt file:
<tt>http://genome.ucsc.edu/goldenPath/help/examples/hubDirectory/hub.txt</tt><br>
</p>
<p>
<b>STEP3:</b> Congratulations, your hub should display! If you are not already
browsing the hg19 assembly on chr21, change assemblies
and navigate to the gene
<a href="../../cgi-bin/hgTracks?db=hg19&singleSearch=knownCanonical&position=SOD1"
target="_blank">SOD1</a> to see data displayed for each of the hub's BAM, bigWig,
bigBed, and VCF tracks.
</p>
<p>If you are having problems, be sure all your files and the hg19 directory are
publicly accessible. For hubs to work your server must also accept byte-ranges.
You can check using the following command to verify "<tt>Accept-Ranges: bytes</tt>"
displays:<br>
<tt>curl -I http://yourURL/hub.txt</tt>
</p>
</ul>
</td>
</tr>
<tr><th height=10></th></tr>
<tr><td width=10>&nbsp;</td><td> 
<b><font color="#006666" size=4>The Three Parts of a Hub</font></b>
<ul>
<li><b><a href="#hub.txt">Understanding the hub.txt</a></b>
<li><b><a href="#genomes.txt">Understanding the genomes.txt</a></b>
<li><b><a href="#trackDb.txt">Understanding the trackDb.txt</a></b>
<br>
<p>
Now that you have a working hub copied from above, you can start
to edit the three main text documents to see how they work and to point
to your local files.
</p>
<p>
Hubs begin with the short hub.txt, which describes your hub and informs
the UCSC Browser where to find the underlying assemblies by defining the
location of genomes.txt. Genomes.txt outlines the hub's assemblies and
defines the location of each assembly's trackDb.txt, which is basically
the heart of your hub, defining the location of all the binary indexed
track data for each assembly. 
</p>
<p>
The hub.txt can be as short as four lines, and the genomes.txt as short as two.
The trackDb.txt file is where the real action takes place. At its most basic
it informs the browser using stanzas about the type, location, and name of
the binary files to display. However it provides real power to taylor your
presentation using additional <a href="trackDb/trackDbHub.html"
target="_blank">trackDb settings</a>.
</p>
<p>
Please know the browser waits 300 seconds before checking for 
any changes to these files. When editing hub.txt, genomes.txt,and trackDb.txt,
shorten this dely by adding <tt>udcTimeout=1</tt> to your URL, please see more
here in the <a href="hgTrackHubHelp.html#Debug"
target="_blank">Debugging and Updating Track Hubs</a> section of the
<a href="hgTrackHubHelp.html" target="_blank">Track Hub User Guide</a>.
</p>
<p>
For detailed explanations behind setting up a hub,
<a href="hgTrackHubHelp.html#Setup">click here.</a>
</ul>
<!---- ======== going to add this section========----
<b><font color="#006666" size=4> Advanced Examples: </font></b>
<ul>
<li><b><a href="#multiWig">Create an Overlayed Transparent Track</a></b>
<li><b><a href="#assembly">Create an Assembly Hub</a></b>
</ul>
-------->
<b><font color="#006666" size=4> Resources: </font></b>
<ul>
<li><b><a href="hgTrackHubHelp.html" target="_blank">Track Hub User Guide</a></b> 
<li><b><a href="trackDb/trackDbHub.html"
target="_blank">Track Database (trackDb) Definition Document</a></b> 
<li><b><a href="http://genomewiki.ucsc.edu/index.php/Assembly_Hubs"
target="_blank">Assembly Hubs Wiki</a></b>
<li><b><a href="http://genomewiki.ucsc.edu/index.php/Public_Hub_Guidelines"
target="_blank">Public Hub Guidelines Wiki</a></b>
</ul>
<!-- This unusual setup makes the graphic float to the left of the discussion text-->
<td>
<a href="../help/examples/hubDirectory"><img src ="../../images/hubDirectoryImage.jpg"
alt="Example Hub Directory" height="200"></a><br>
<a href="../help/examples/hubDirectory"><em><font size=-2>Example Hub Directory</em></font></a>
</td>
</td>
<td width=15></td>
</tr>
</table>
<br></td></tr>
</table>
</td></tr>
</table>

<!-- ========== hub.txt ============================== -->
<a name="hub.txt"></a><br>

<!--outer table is for border purposes-->
<table width="100%" bgcolor="#888888" border="0" cellspacing="0" cellpadding="1">
<tr><td>	
<table bgcolor="#fffee8" width="100%"  border="0" cellspacing="0" cellpadding="0">
<tr><td>	
<table bgcolor="#d9e4f8" background="../../images/hr.gif" width="100%">
<tr><td><font size="4"><a name="toc"></a><b>&nbsp; What is the hub.txt?</b></font>
</td></tr>
</table>
<table bgcolor="#fffee8" width="100%" cellpadding=0>
<tr><th height=10></th></tr>
<tr><td width=10>&nbsp;</td><td>
<p>

<blockquote><tt>
<b>hub</b> <em>MyHubsNameWithoutSpaces</em> <br>
<b>shortLabel</b> <em>My Hub's Name</em><br>
<b>longLabel</b> <em>Name up to 80 characters versus shortLabel limited to 17 characters</em><br>
<b>genomesFile</b> <em>genomes.txt</em><br>
<b>email</b> <em>myEmail@address</em><br>
</tt>
</blockquote>
A hub starts with a short few lines in hubs.txt.
The hub.txt informs the UCSC Browser where to find the underlying assemblies via the
<tt><b> genomesFile</b> <em>genomes.txt</em></tt> line, which
in turn will direct the browser to each assembly's related binary indexed track data,
outlined in the trackDb.txt. See an <a href="../help/examples/hubDirectory/hub.txt"
target="_blank">example hub.txt</a>.
</p>
</td>
<td width=15></td>
</tr>
</table>
<br></td></tr>
</table>
</td></tr>
</table>

<!-- ========== genomes.txt ============================== -->

<a name="genomes.txt"></a><br>

<!--outer table is for border purposes-->
<table width="100%" bgcolor="#888888" border="0" cellspacing="0" cellpadding="1">
<tr><td>
<table bgcolor="#fffee8" width="100%"  border="0" cellspacing="0" cellpadding="0">
<tr><td>
<table bgcolor="#d9e4f8" background="../../images/hr.gif" width="100%">
<tr><td><font size="4"><a name="toc"></a><b>&nbsp; What is the genomes.txt?</b></font>
</td></tr>
</table>
<table bgcolor="#fffee8" width="100%" cellpadding=0>
<tr><th height=10></th></tr>
<tr><td width=10>&nbsp;</td><td>
<p>

<blockquote><tt>
<b>genome</b> <em>assembly_database_1</em><br>
<b>trackDb</b> <em>assembly_1_path/trackDb.txt</em><br>
<br>
<b>genome</b> <em>assembly_database_2</em><br>
<b>trackDb</b> <em>assembly_2_path/trackDb.txt</em><br>
</tt></blockquote>

The genomes.txt text file can be as short as a two line stanza, when using only
one UCSC assembly. For example <tt><b>genome</b> <em>panTro4</em></tt> and <tt>
<b>trackDb</b> <em>panTro4/trackDb.txt</em></tt>, where the <tt><b>genome</b></tt>
line explains to the browser to use the panTro4 chimp genome.
The <tt><b>trackDb</b></tt> line informs the browser where to
find trackDb.txt, which will define the location and how to
display all the assembly's tracks. See a basic
<a href="../help/examples/hubDirectory/genomes.txt"
target="_blank">example genomes.txt</a>.
</p>
</td>
<td width=15></td>
</tr>
</table>
<br></td></tr>
</table>
</td></tr>
</table>

<!-- ==========trackDb.txt ==================== -->
<a name="trackDb.txt"></a><br>

<!--outer table is for border purposes-->
<table width="100%" bgcolor="#888888" border="0" cellspacing="0" cellpadding="1">
<tr><td>	
<table bgcolor="#fffee8" width="100%"  border="0" cellspacing="0" cellpadding="0">
<tr><td>	
<table bgcolor="#d9e4f8" background="../../images/hr.gif" width="100%">
<tr><td><font size="4"><a
name="toc"></a><b>&nbsp; What is trackDb.txt?</b></font>
</td></tr>
</table>
<table bgcolor="#fffee8" width="100%" cellpadding=0>
<tr><th height=10></th></tr>
<tr><td width=10>&nbsp;</td><td>
<p>
<blockquote><tt>
<b>track</b> <em>uniqueNameNoSpacesOrDots</em><br>
<b>type</b> <em>track_type</em><br>
<b>bigDataUrl</b> <em>track_data_url</em><br>
<b>shortLabel</b> <em>label 17 chars</em><br>
<b>longLabel</b> <em>long label up to 80 chars</em><br>
</tt></blockquote>
</p>
The trackDb.txt file uses stanzas for each track to inform
the browser of the name, type, location, and description
of each binary file to display. The <a href="trackDb/trackDbHub.html"
target="_blank">trackDb settings</a> allow further display control
such as by adding the line <tt><b>color</b> <em>255,0,0</em></tt> to
define a track's color. Each track <tt><b>type</b></tt>
(<tt><a href="trackDb/trackDbHub.html#bigBed_-_Item_or_Region_Track_Settings"
target="_blank"><em>bigBed</em></a>,
<a href="trackDb/trackDbHub.html#bigWig_-_Signal_Graphing_Track_Settings"
target="_blank"><em>bigWig</em></a>,
<a href="trackDb/trackDbHub.html#bam"
target="_blank"><em>bam</em></a>,
</tt>and<tt> <a href="trackDb/trackDbHub.html#vcfTabix"
target="_blank"><em>vcfTabix</em></a></tt>) 
has further customizable trackDb settings.
The <tt><b>bigDataUrl</b></tt> can be a relative path to a
local file or a publicly accessibly URL that
accepts byte-ranges. The trackDb.txt also allows for advanced 
<a href="trackDb/trackDbHub.html#groupingTracks"
target="_blank">track grouping</a> known as composites,
superTracks and multiWigs.
See a basic <a href="../help/examples/hubDirectory/hg19/trackDb.txt"
target="_blank">example trackDb.txt</a>.
</p>

</td>
<td width=15></td>
</tr>
</table>
<br></td></tr>
</table>
</td></tr>
</table>


<!-- ==========Advanced Example ============================== -->
<a name="multiWig"></a><br>
<!--outer table is for border purposes-->

<!--removing until ready to add
<table width="100%" bgcolor="#888888" border="0" cellspacing="0" cellpadding="1">
<tr><td>	
<table bgcolor="#fffee8" width="100%"  border="0" cellspacing="0" cellpadding="0">
<tr><td>	
<table bgcolor="#d9e4f8" background="../../images/hr.gif" width="100%">
<tr><td><font size="4"><a
name="toc"></a><b>&nbsp;Composite, Supertrack, MultiWig Hub Example</b></font>
</td></tr>
</table>
<table bgcolor="#fffee8" width="100%" cellpadding=0>
<tr><th height=10></th></tr>
<tr><td width=10>&nbsp;</td><td>
<p>
STEPS to come to curl a multiWig example
</p>
</td>
<td width=15></td>
</tr>
</table>
<br></td></tr>
</table>
</td></tr>
</table>
--->

</td></tr>
</table>

</body></html>
