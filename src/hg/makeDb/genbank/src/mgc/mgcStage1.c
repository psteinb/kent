/* mgcStage1.c was originally generated by the autoSql program, which also 
 * generated mgcStage1.h and mgcStage1.sql.  This module links the database and
 * the RAM representation of objects. */

#include "common.h"
#include "linefile.h"
#include "dystring.h"
#include "jksql.h"
#include "gbSql.h"
#include "mgcStage1.h"


void mgcStage1StaticLoad(char **row, struct mgcStage1 *ret)
/* Load a row from mgcStage1 table into ret.  The contents of ret will
 * be replaced at the next call to this function. */
{
ret->id_clone = sqlSigned(row[0]);
ret->id_est = sqlSigned(row[1]);
ret->p_end = row[2];
ret->id_vendor = sqlSigned(row[3]);
ret->id_cluster = sqlSigned(row[4]);
ret->priority = sqlSigned(row[5]);
ret->live = sqlSigned(row[6]);
ret->version = sqlSigned(row[7]);
ret->cdate = row[8];
ret->picked = sqlSigned(row[9]);
ret->pdate = row[10];
ret->suppress = sqlSigned(row[11]);
ret->organism = row[12];
ret->currpick = gbSqlSignedNull(row[13]);
}

struct mgcStage1 *mgcStage1Load(char **row)
/* Load a mgcStage1 from row fetched with select * from mgcStage1
 * from database.  Dispose of this with mgcStage1Free(). */
{
struct mgcStage1 *ret;

AllocVar(ret);
ret->id_clone = sqlSigned(row[0]);
ret->id_est = sqlSigned(row[1]);
ret->p_end = cloneString(row[2]);
ret->id_vendor = sqlSigned(row[3]);
ret->id_cluster = sqlSigned(row[4]);
ret->priority = sqlSigned(row[5]);
ret->live = sqlSigned(row[6]);
ret->version = sqlSigned(row[7]);
ret->cdate = cloneString(row[8]);
ret->picked = sqlSigned(row[9]);
ret->pdate = cloneString(row[10]);
ret->suppress = sqlSigned(row[11]);
ret->organism = cloneString(row[12]);
ret->currpick = gbSqlSignedNull(row[13]);
return ret;
}

struct mgcStage1 *mgcStage1LoadAll(char *fileName) 
/* Load all mgcStage1 from a whitespace-separated file.
 * Dispose of this with mgcStage1FreeList(). */
{
struct mgcStage1 *list = NULL, *el;
struct lineFile *lf = lineFileOpen(fileName, TRUE);
char *row[14];

while (lineFileRow(lf, row))
    {
    el = mgcStage1Load(row);
    slAddHead(&list, el);
    }
lineFileClose(&lf);
slReverse(&list);
return list;
}

struct mgcStage1 *mgcStage1CommaIn(char **pS, struct mgcStage1 *ret)
/* Create a mgcStage1 out of a comma separated string. 
 * This will fill in ret if non-null, otherwise will
 * return a new mgcStage1 */
{
char *s = *pS;

if (ret == NULL)
    AllocVar(ret);
ret->id_clone = sqlSignedComma(&s);
ret->id_est = sqlSignedComma(&s);
ret->p_end = sqlStringComma(&s);
ret->id_vendor = sqlSignedComma(&s);
ret->id_cluster = sqlSignedComma(&s);
ret->priority = sqlSignedComma(&s);
ret->live = sqlSignedComma(&s);
ret->version = sqlSignedComma(&s);
ret->cdate = sqlStringComma(&s);
ret->picked = sqlSignedComma(&s);
ret->pdate = sqlStringComma(&s);
ret->suppress = sqlSignedComma(&s);
ret->organism = sqlStringComma(&s);
ret->currpick = sqlSignedComma(&s);
*pS = s;
return ret;
}

void mgcStage1Free(struct mgcStage1 **pEl)
/* Free a single dynamically allocated mgcStage1 such as created
 * with mgcStage1Load(). */
{
struct mgcStage1 *el;

if ((el = *pEl) == NULL) return;
freeMem(el->p_end);
freeMem(el->cdate);
freeMem(el->pdate);
freeMem(el->organism);
freez(pEl);
}

void mgcStage1FreeList(struct mgcStage1 **pList)
/* Free a list of dynamically allocated mgcStage1's */
{
struct mgcStage1 *el, *next;

for (el = *pList; el != NULL; el = next)
    {
    next = el->next;
    mgcStage1Free(&el);
    }
*pList = NULL;
}

void mgcStage1Output(struct mgcStage1 *el, FILE *f, char sep, char lastSep) 
/* Print out mgcStage1.  Separate fields with sep. Follow last field with lastSep. */
{
fprintf(f, "%d", el->id_clone);
fputc(sep,f);
fprintf(f, "%d", el->id_est);
fputc(sep,f);
if (sep == ',') fputc('"',f);
fprintf(f, "%s", el->p_end);
if (sep == ',') fputc('"',f);
fputc(sep,f);
fprintf(f, "%d", el->id_vendor);
fputc(sep,f);
fprintf(f, "%d", el->id_cluster);
fputc(sep,f);
fprintf(f, "%d", el->priority);
fputc(sep,f);
fprintf(f, "%d", el->live);
fputc(sep,f);
fprintf(f, "%d", el->version);
fputc(sep,f);
if (sep == ',') fputc('"',f);
fprintf(f, "%s", el->cdate);
if (sep == ',') fputc('"',f);
fputc(sep,f);
fprintf(f, "%d", el->picked);
fputc(sep,f);
if (sep == ',') fputc('"',f);
fprintf(f, "%s", el->pdate);
if (sep == ',') fputc('"',f);
fputc(sep,f);
fprintf(f, "%d", el->suppress);
fputc(sep,f);
if (sep == ',') fputc('"',f);
fprintf(f, "%s", el->organism);
if (sep == ',') fputc('"',f);
fputc(sep,f);
fprintf(f, "%d", el->currpick);
fputc(lastSep,f);
}

/* -------------------------------- End autoSql Generated Code -------------------------------- */


